# PGL Coalgebra â€” operational semantics of Answer | Refuse | Stand

version: 1

observables:
  truth_val:     ["T", "F", "B", "N"]  # four-valued
  consent_clean: [true, false]
  apophatic_ok:  [true, false]
  delta_E_ok:    [true, false]         # Î”ğ“” < 0
  grace_ok:      [true, false]         # ğ’¢ >= threshold
  paradox_near:  [true, false]

transitions:

  # Hard-rail failures â†’ Refuse
  - when: {consent_clean: false}  then: {decision: "Refuse", reason: "Consent rail"}
  - when: {apophatic_ok:  false}  then: {decision: "Refuse", reason: "Apophatic rail"}

  # Truth False â†’ Refuse (unless it is explicitly a test stub with consent & rollback)
  - when: {truth_val: "F", consent_clean: true, apophatic_ok: true}
    then: {decision: "Refuse", reason: "False"}

  # Truth Neither (N) â†’ Stand (gather more), if rails OK
  - when: {truth_val: "N", consent_clean: true, apophatic_ok: true}
    then: {decision: "Stand", reason: "Insufficient truth"}

  # Dialetheia (B) tolerated only with repair horizon + micro-move
  - when: {truth_val: "B", delta_E_ok: true, grace_ok: true, consent_clean: true, apophatic_ok: true}
    then: {decision: "Answer", requirements: ["repair_horizon", "reversible_micro_move"]}

  # Truth True (T) but Î”ğ“” not < 0 â†’ Stand (needs a cleaner move)
  - when: {truth_val: "T", delta_E_ok: false, consent_clean: true, apophatic_ok: true}
    then: {decision: "Stand", reason: "Not a minimal clean move"}

  # Truth True (T) and Î”ğ“” < 0 but ğ’¢ below floor â†’ Stand
  - when: {truth_val: "T", delta_E_ok: true, grace_ok: false, consent_clean: true, apophatic_ok: true}
    then: {decision: "Stand", reason: "Grace floor not met"}

  # Truth True (T) and Î”ğ“” < 0 and ğ’¢ ok â†’ Answer
  - when: {truth_val: "T", delta_E_ok: true, grace_ok: true, consent_clean: true, apophatic_ok: true}
    then: {decision: "Answer"}

paradox_overrides:
  # Near apophatic zones, raise grace floor and prefer Stand unless reversible micro-move exists
  paradox_near:
    grace_floor_bump: +0.05
    require_reversible_micro_move: true

auditing:
  record:
    - "rail_failures"
    - "epsilon_gap"
    - "counter_contexts"
    - "repair_horizon"
